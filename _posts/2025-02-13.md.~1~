:::::::::::::::::::::::::::: {.main role="main"}
# Note

::: {.section .header}
Posted on February 13, 2025
:::

:::::::::::::::::::::::::: section
# Emacs

Distro: [seagle0128/CentaurEmacs](https://seagle0128.github.io/.emacs.d)

## Reader

下载一DjVu文档后，使用emacs的nov插件无法查看其内容，查看配置注释发现nov是一个
`.epub`
查看器，遂安装djvu，但仍无法查看内容，查询ArchWiki后断定是缺少依赖。安装依赖后仍不显示内容但各命令工作正常，推测是由于djvu插件缺省不显示图片所致，`(setq djvu-image-mode t)`
后正常显示。

``` elisp
(use-package djvu)
```

::: {#cb2 .sourceCode}
``` {.sourceCode .bash}
sudo pacman -S djvulibre
```
:::

### to PDF

::: {#cb3 .sourceCode}
``` {.sourceCode .bash}
sudo pacman -S libtiff
```
:::

::: {#cb4 .sourceCode}
``` {.sourceCode .bash}
ddjvu -format=tiff name(1).djvu name(2).tiff
tiff2pdf -j -o name(3).pdf name(2).tiff
```
:::

## Programming

### Haskell

``` elisp
(use-package haskell-mode
  :ensure t
  :hook
  (haskell-mode . interactive-haskell-mode)
  (haskell-mode . haskell-indentation-mode)
  )

(use-package lsp-haskell
  :ensure t
)
```

`init.el`:

``` elisp
(add-hook 'haskell-mode-hook #'lsp)
(add-hook 'haskell-literate-mode-hook #'lsp)
```

### Symbolic Algebra

#### Julia

::: {#cb7 .sourceCode}
``` {.sourceCode .bash}
curl -fsSL https://install.julialang.org | sh
```
:::

``` elisp
;; julia-snail
(use-package julia-snail
  :ensure t
  :config (setq julia-snail-executable "~/.juliaup/bin/"))
```

#### SPAD && FriCAS

见于
[euclideanspace.com/](http://euclideanspace.com/prog/scratchpad/spad/index.htm)
。

::: {#cb9 .sourceCode}
``` {.sourceCode .bash}
sudo pacman -S sbcl
git clone --depth=1 git@github.com:fricas/fricas.git
cd fricas
./configure
make
sudo make install
```
:::

#### Idris2 && Pack

::: {#cb10 .sourceCode}
``` {.sourceCode .bash}
git clone --depth=1 git@github.com:racket/ChezScheme.git
cd ChezScheme
./configure --threads
make
sudo make install
```
:::

::: {#cb11 .sourceCode}
``` {.sourceCode .bash}
git clone --depth=1 git@github.com:stefan-hoeck/idris2-pack.git
cd idris2-pack
./install.sh
```
:::

::: {#cb12 .sourceCode}
``` {.sourceCode .bash}
export PATH=$PATH:~/.pack/bin
```
:::

#### Agda

::: {#cb13 .sourceCode}
``` {.sourceCode .bash}
cabal update
cabal install Agda

wget -O agda-stdlib.tar.gz https://github.com/agda/agda-stdlib/archive/v2.2.tar.gz
tar -xvf agda-stdlib.tar.gz

cd agda-stdlib-2.2
cabal install
```
:::

## CommonLisp && Roswell

::: {#cb14 .sourceCode}
``` {.sourceCode .bash}
sudo pacman -S rlwrap

git clone -b release https://github.com/roswell/roswell.git
cd roswell
sh bootstrap
./configure --prefix=$HOME/.local
make
make install
echo 'PATH=$HOME/.local/bin:$PATH' >> ~/.zshrc

ros setup
ros lisp=sbcl-bin/system setup
ros install qlot
```
:::

### lem

::: {#cb15 .sourceCode}
``` {.sourceCode .bash}
sudo pacman -S sdl2 sdl2_ttf sdl2_image

mkdir $HOME/common-lisp
cd common-lisp
git clone --depth=1 https://github.com/lem-project/lem.git
cd lem
make sdl2
```
:::

## SICP

::: {#cb16 .sourceCode}
``` {.sourceCode .bash}
mkdir -p  ~/.config/emacs/quack/
cd ./.config/emacs/quack/
wget2 https://www.neilvandyke.org/quack/quack.el
```
:::

## Typesetting

### typst

``` elisp
(use-package websocket
  :ensure t)

(use-package lsp-mode
  :ensure t)

(use-package typst-ts-mode
  :vc (:url "https://codeberg.org/meow_king/typst-ts-mode" :branch "develop")
  :custom
  ;; don't add "--open" if you'd like `watch` to be an error detector
  ;; (typst-ts-watch-options "--open")

  (typst-ts-mode-grammar-location (expand-file-name "tree-sitter/libtree-sitter-typst.so" user-emacs-directory))
  (typst-ts-mode-enable-raw-blocks-highlight t)
  :config
  (keymap-set typst-ts-mode-map "C-c C-c" #'typst-ts-tmenu)
  ;; make sure to install typst-lsp from
  ;; https://github.com/nvarner/typst-lsp/releases
  ;; or use tinymist
  (add-to-list 'lsp-language-id-configuration '(typst-ts-mode . "typst"))
  (lsp-register-client
   (make-lsp-client
    :new-connection (lsp-stdio-connection "tinymist")
    :major-modes '(typst-ts-mode)
    :server-id 'tinymist)))

(use-package tip
  :vc (:url "https://git.sr.ht/~mafty/tip"))
```

::: {#cb18 .sourceCode}
``` {.sourceCode .bash}
git clone --depth 1 https://git.sr.ht/~mafty/tip-server-py
cd tip-server-py
pip install -r requirements.txt
```
:::

### LaTeX

#### Maxima

`maxima`内有`tex`函数，可将在其内部的表达式转化为合法的LaTeX形式给出。

::: {#cb19 .sourceCode}
``` {.sourceCode .maxima}
tex(sqrt(2)-sqrt(3))
```
:::

### Rust && Cargo:Typesetting Package/Emacs

::: {#cb20 .sourceCode}
``` {.sourceCode .bash}
cargo install font-manager
```
:::

github:[e-ricus/font-manager-cli](https://github.com/e-ricus/font-manager-cli).

::: {#cb21 .sourceCode}
``` {.sourceCode .bash}
cargo install --git https://github.com/typst/typst.git --locked typst-cli
```
:::

::: {#cb22 .sourceCode}
``` {.sourceCode .bash}
cargo install --git https://github.com/Myriad-Dreamin/tinymist --locked tinymist
```
:::

::: {#cb23 .sourceCode}
``` {.sourceCode .bash}
git clone --depth 1 https://github.com/uben0/tree-sitter-typst
cd tree-sitter-typst/src

cc -fPIC -std=c99 -c parser.c
cc -fPIC -std=c99 -c scanner.c
cc -shared parser.o scanner.o -o libtree-sitter-typst.so

# to emacs
mkdir tree-sitter
cd tree-sitter
mv libtree-sitter-typst ./
```
:::

## APL/Uiua

::: {#cb24 .sourceCode}
``` {.sourceCode .bash}
cargo install --git https://github.com/uiua-lang/uiua uiua -F full
```
:::

## Typesetting on VSC

::: {#cb25 .sourceCode}
``` {.sourceCode .bash}
sudo pacman -S code && ext install myriad-dreamin.tinymist
```
:::

# BlogTools

## Artem

::: {#cb26 .sourceCode}
``` {.sourceCode .bash}
cargo install artem
```
:::

## Hakyll

::: {#cb27 .sourceCode}
``` {.sourceCode .bash}
hakyll-init -f ./
```
:::

## Typst

::: {#cb28 .sourceCode}
``` {.sourceCode .bash}
typst watch --features html
## or
TYPST_FEATURES=html
```
:::
::::::::::::::::::::::::::
::::::::::::::::::::::::::::
